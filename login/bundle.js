var n="https://terryapi.dimitri.ge/api";function r(){let e=localStorage.getItem("authToken");return e?{Authorization:`Bearer ${e}`}:{}}async function s(e){console.log(e);let t=await fetch(`${n}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",...r()},body:JSON.stringify(e)});if(!t.ok)throw new Error("Can't log in");let{token:o}=await t.json();localStorage.setItem("authToken",o)}var a=document.getElementById("login"),i=document.getElementById("email"),c=document.getElementById("password"),p=document.getElementById("remember-me");a.addEventListener("click",async e=>{e.preventDefault();let t={username:i.value,password:c.value,remember:p.checked};try{await s(t),window.location.href="/browse/"}catch{alert("\u10D0\u10D5\u10D7\u10D4\u10DC\u10E2\u10D8\u10D9\u10D0\u10EA\u10D8\u10D0 \u10D5\u10D4\u10E0 \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D3\u10D0. \u10E1\u10EA\u10D0\u10D3\u10D4 \u10D4\u10DA. \u10E4\u10DD\u10E1\u10E2\u10D8\u10E1\u10D0 \u10D0\u10DC \u10DE\u10D0\u10E0\u10DD\u10DA\u10D8\u10E1 \u10EE\u10D4\u10DA\u10D0\u10EE\u10DA\u10D0 \u10E9\u10D0\u10EC\u10D4\u10E0\u10D0.")}});
//# sourceMappingURL=bundle.js.map
