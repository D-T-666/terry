var n="https://terryapi.dimitri.ge/api";var a={Authorization:"Bearer "+(localStorage.getItem("authToken")??"")};function r(){return a}async function s(o){let t=await fetch(`${n}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",...r()},body:JSON.stringify(o)});if(!t.ok)return;let{token:e}=await t.json();localStorage.setItem("authToken",e),a.Authorization=e}var i=document.getElementById("login"),c=document.getElementById("email"),p=document.getElementById("password");i.addEventListener("click",async o=>{o.preventDefault();let t={username:c.value,password:p.value},e=await s(t);console.log(e)});
