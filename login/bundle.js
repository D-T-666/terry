var n="https://terryapi.dimitri.ge/api";var r={Authorization:"Bearer "+(localStorage.getItem("authToken")??"")};function s(){return r}async function a(o){let t=await fetch(`${n}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",...s()},body:JSON.stringify(o)});if(!t.ok)return;let{token:e}=await t.json();localStorage.setItem("authToken",e),r.Authorization=e}var i=document.getElementById("login"),c=document.getElementById("email"),p=document.getElementById("password");i.addEventListener("click",async o=>{o.preventDefault();let t={username:c.value,password:p.value},e=await a(t);console.log(e)});
