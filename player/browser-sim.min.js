var r=class extends HTMLElement{constructor(){super(),this.tabs=document.createElement("div"),this.tabs.classList.add("tabs"),this.urlBar=document.createElement("div"),this.urlBar.classList.add("url");let e=document.createElement("div");e.classList.add("header"),e.append(this.tabs,this.urlBar),this.pages=document.createElement("div"),this.pages.classList.add("pages"),this.pages.innerHTML=this.innerHTML,this.innerHTML="",this.append(e,this.pages),this.pagesByURL={};for(let t of this.pages.children)this.pagesByURL[t.getAttribute("url")]=t;this.pages.firstElementChild.setAttribute("closable",!1),this.visibleTabs={},this.currentPageUrl=void 0,this.showPage(this.pages.children[0].getAttribute("url"))}showPage(e){this.currentPageUrl!==void 0&&(this.pagesByURL[this.currentPageUrl].classList.remove("current"),this.visibleTabs[this.currentPageUrl]&&this.visibleTabs[this.currentPageUrl].classList.remove("current")),this.currentPageUrl=e,this.pagesByURL[this.currentPageUrl].classList.add("current"),this.visibleTabs[this.currentPageUrl]===void 0&&this.createTab(this.currentPageUrl),this.visibleTabs[this.currentPageUrl].classList.add("current"),this.urlBar.innerText=`https://${this.currentPageUrl}`}createTab(e){let t=document.createElement("span");t.classList.add("tab");let i=document.createElement("button");if(i.innerText=this.pagesByURL[this.currentPageUrl].getAttribute("title"),i.addEventListener("click",s=>this.showPage(e)),t.appendChild(i),this.pagesByURL[this.currentPageUrl].getAttribute("closable")!=="false"){let s=document.createElement("button");s.innerHTML="&#10005;",s.addEventListener("click",c=>{this.visibleTabs[e].remove(),delete this.visibleTabs[e],e===this.currentPageUrl&&this.showPage(Object.keys(this.visibleTabs)[0])}),t.appendChild(s)}this.tabs.appendChild(t),this.visibleTabs[this.currentPageUrl]=t}},a=class extends HTMLElement{constructor(){super(),this.addEventListener("click",this.click)}connectedCallback(){let e=this.getAttribute("browser");if(e!==null)this.targetBrowser=document.getElementById(e);else{let t=this.parentElement;for(;t.parentElement;)if(t=t.parentElement,t.tagName==="BROWSER-SIM"){this.targetBrowser=t;break}}}click(e){this.targetBrowser.showPage(this.getAttribute("to")),this.targetBrowser.scrollIntoView({behavior:"smooth"})}},n=class extends HTMLElement{constructor(){super()}};customElements.define("browser-sim",r);customElements.define("browser-link",a);customElements.define("browser-page",n);
