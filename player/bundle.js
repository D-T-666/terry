var r={current:void 0,total:void 0,container:void 0,elementsOfPage:void 0,pageRadio:void 0,init({total:t,container:s}){this.total=t,this.container=s,this.elementsOfPage=[],this.pageRadio=[];for(let e=0;e<this.total;e++){let i=document.createElement("input");i.type="radio",i.name="current-page",i.addEventListener("change",o=>{o.target.checked&&(this.hidePage(),this.showPage(e))}),this.pageRadio.push(i);let n=document.createElement("label");n.innerText=e+1,n.appendChild(i),this.container.appendChild(n),this.elementsOfPage.push([])}},hidePage(){for(let t of this.elementsOfPage[this.current])t.classList.remove("current")},showPage(t){this.current=t,this.pageRadio[t].checked=!0;for(let s of this.elementsOfPage[this.current])s.classList.add("current","visited")},registerElement(t){switch(t.dataset.visibilityType||"always"){case"only":let e=Number(t.dataset.visibleOnlyOn);this.trackElementOnly(t,e);break;case"range":let i=Number(t.dataset.visibleFrom),n=Number(t.dataset.visibleTo);this.trackElementRange(t,i,n);break}for(let e of t.children)this.registerElement(e);console.log(this.elementsOfPage)},untrackElement(t){for(let s of this.elementsOfPage){let e=s.indexOf(t);e>=0&&s.splice(e,1)}},trackElementOnly(t,s,e=!0){this.untrackElement(t),this.elementsOfPage[s-1].push(t)},trackElementRange(t,s,e){this.untrackElement(t);for(let i=s;i<=e;i++)this.elementsOfPage[i-1].push(t)}};var d={getTest(t){return JSON.parse(localStorage.getItem("currentFile"))}};var a=class extends HTMLElement{constructor(){super(),this.tabs=document.createElement("div"),this.tabs.classList.add("tabs"),this.urlBar=document.createElement("div"),this.urlBar.classList.add("url");let s=document.createElement("div");s.classList.add("header"),s.append(this.tabs,this.urlBar),this.pages=document.createElement("div"),this.pages.classList.add("pages"),this.pages.innerHTML=this.innerHTML,this.innerHTML="",this.append(s,this.pages),this.pagesByURL={};for(let e of this.pages.children)this.pagesByURL[e.getAttribute("url")]=e;this.pages.firstElementChild.setAttribute("closable",!1),this.visibleTabs={},this.currentPageUrl=void 0,this.showPage(this.pages.children[0].getAttribute("url"))}showPage(s){this.currentPageUrl!==void 0&&(this.pagesByURL[this.currentPageUrl].classList.remove("current"),this.visibleTabs[this.currentPageUrl]&&this.visibleTabs[this.currentPageUrl].classList.remove("current")),this.currentPageUrl=s,this.pagesByURL[this.currentPageUrl].classList.add("current"),this.visibleTabs[this.currentPageUrl]===void 0&&this.createTab(this.currentPageUrl),this.visibleTabs[this.currentPageUrl].classList.add("current"),this.urlBar.innerText=`https://${this.currentPageUrl}`}createTab(s){let e=document.createElement("span");e.classList.add("tab");let i=document.createElement("button");if(i.innerText=this.pagesByURL[this.currentPageUrl].getAttribute("title"),i.addEventListener("click",n=>this.showPage(s)),e.appendChild(i),this.pagesByURL[this.currentPageUrl].getAttribute("closable")!=="false"){let n=document.createElement("button");n.innerHTML="&#10005;",n.addEventListener("click",o=>{this.visibleTabs[s].remove(),delete this.visibleTabs[s],s===this.currentPageUrl&&this.showPage(Object.keys(this.visibleTabs)[0])}),e.appendChild(n)}this.tabs.appendChild(e),this.visibleTabs[this.currentPageUrl]=e}},l=class extends HTMLElement{constructor(){super(),this.addEventListener("click",this.click)}connectedCallback(){let s=this.getAttribute("browser");if(s!==null)this.targetBrowser=document.getElementById(s);else{let e=this.parentElement;for(;e.parentElement;)if(e=e.parentElement,e.tagName==="BROWSER-SIM"){this.targetBrowser=e;break}}}click(s){this.targetBrowser.showPage(this.getAttribute("to")),this.targetBrowser.scrollIntoView({behavior:"smooth"})}},c=class extends HTMLElement{constructor(){super()}};customElements.define("browser-sim",a);customElements.define("browser-link",l);customElements.define("browser-page",c);var h=document.getElementById("main-content"),u=document.getElementById("page-controls"),g=4,m=d.getTest(g);h.innerHTML=m.content;r.init({total:h.firstChild.dataset.pages,container:u});r.registerElement(h.firstElementChild);r.showPage(0);
//# sourceMappingURL=bundle.js.map
